<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="view_move_price_cols_in_picking" model="ir.ui.view">
    <field name="name">stock.picking.move.price.cols.inherit.custom_stock_mooch</field>
    <field name="model">stock.picking</field>
    <field name="inherit_id" ref="stock.view_picking_form"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='move_ids_without_package']/tree" position="inside">
        <!-- campo usado por el modifier: DEBE estar en el tree -->
        <field name="purchase_line_id" invisible="1"/>
        <!-- columnas -->
        <field name="po_unit_cost"  invisible="not purchase_line_id" optional="show"/>
        <!-- agrega ‘sum’ para ver el total al pie del grid -->
        <field name="po_line_total" invisible="not purchase_line_id" optional="show" sum="Total (OC)"/>
      </xpath>
    </field>
  </record>
</odoo>
